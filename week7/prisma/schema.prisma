generator client {
  provider = "prisma-client"
  output = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User { 
  Userid   String   @id @default(uuid()) @db.Uuid   // ใช้ UUID เป็น Primary Key
  email    String   @unique                         // อีเมลต้องไม่ซ้ำกัน
  name     String?                                  // ชื่อผู้ใช้ สามารถเป็น null ได้
  createdAt DateTime @default(now())                // วันที่สร้างบัญชีผู้ใช้
  posts    Post[]                                  // 1 User มีหลาย Post
}

model Post { 
  postId   String   @id @default(uuid()) @db.Uuid   // ใช้ UUID เป็น Primary Key
  title    String                                  // หัวข้อของโพสต์
  content  String?                                // เนื้อหาของโพสต์ สามารถเป็น null ได้
  published Boolean @default(false)                // ค่าเริ่มต้น false
  author   User     @relation(fields: [authorId], references: [Userid])
  authorId String   @db.Uuid                       // Foreign Key
  createdAt DateTime @default(now())               // วันที่สร้างโพสต์
  updatedAt DateTime @updatedAt                   // อัปเดตอัตโนมัติเมื่อมีการแก้ไข
}